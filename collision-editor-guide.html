<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta na    <div class="controls">
        <h3>🏝️ Island Management</h3>
        <ul>
            <li><strong>📍 Add Island:</strong> Create new island at specified coordinates</li>
            <li><strong>🖼️ Import:</strong> Import island from image file (PNG, JPG, etc.)</li>
            <li><strong>📍 Place on Map:</strong> Manually position imported island by clicking on map</li>
            <li><strong>💾 Save to Assets:</strong> Download island to Islands folder with integration code</li>
            <li><strong>⚙️ Import Island to Project:</strong> Complete project integration with dimensions and code</li>
            <li><strong>🗑️ Delete:</strong> Remove selected island from map</li>
            <li><strong>Drag & Drop:</strong> Drop image files directly on editor panel</li>
        </ul>
    </div>t" content="width=device-width, initial-scale=1.0">
    <t    <h2>⚙️ Import Settings - Complete Project Integration</h2>
    
    <div class="controls">
        <h3>🎯 What "Import Island to Project" Does</h3>
        <ul>
            <li><strong>Collects Dimensions:</strong> Automatically reads image width and height</li>
            <li><strong>Prompts for Settings:</strong> Asks for X/Y coordinates and collision radius</li>
            <li><strong>Generates PNG File:</strong> Creates optimized PNG for your Islands folder</li>
            <li><strong>Creates Integration Code:</strong> Generates ready-to-paste code for main.js and map.js</li>
            <li><strong>Downloads Instructions:</strong> Provides step-by-step integration guide</li>
            <li><strong>Copies to Clipboard:</strong> Code is ready for immediate pasting</li>
        </ul>
    </div>

    <div class="controls">
        <h3>🔧 Integration Process</h3>
        <ol>
            <li><strong>Step 1:</strong> Downloads optimized PNG file to your Downloads folder</li>
            <li><strong>Step 2:</strong> Downloads detailed integration instructions file</li>
            <li><strong>Step 3:</strong> Copies all necessary code to your clipboard</li>
            <li><strong>Step 4:</strong> You move PNG to assets/Islands/ folder</li>
            <li><strong>Step 5:</strong> You paste code into main.js and map.js as instructed</li>
            <li><strong>Step 6:</strong> Refresh game to see your new island</li>
        </ol>
    </div>

    <div class="controls">
        <h3>📋 Generated Integration Package</h3>
        <ul>
            <li><strong>PNG File:</strong> Optimized island image for your project</li>
            <li><strong>Asset Loading Code:</strong> Ready-to-paste code for main.js loadAssets()</li>
            <li><strong>Island Configuration:</strong> Complete island object for map.js</li>
            <li><strong>Asset Assignment:</strong> Code to link loaded asset to island</li>
            <li><strong>Instructions File:</strong> Complete step-by-step integration guide</li>
        </ul>
    </div>

    <h2>💾 Asset Management System</h2>
    
    <div class="controls">
        <h3>🗂️ Islands Folder Integration</h3>
        <ul>
            <li><strong>Auto-Download:</strong> "Save to Assets" button downloads PNG to your Downloads</li>
            <li><strong>Safe Naming:</strong> Automatically generates safe filenames (no spaces/special chars)</li>
            <li><strong>PNG Conversion:</strong> Converts all images to PNG format for consistency</li>
            <li><strong>Integration Code:</strong> Auto-generates code for main.js and map.js</li>
        </ul>
    </div>

    <div class="controls">
        <h3>🔄 Asset Integration Steps</h3>
        <ol>
            <li>Import and place your island in the map editor</li>
            <li>Click "💾 Save to Assets" button</li>
            <li>File downloads to your Downloads folder</li>
            <li>Integration code copied to clipboard</li>
            <li>Move the downloaded file to <code>assets/Islands/</code> folder</li>
            <li>Paste the integration code into your project files</li>
            <li>Refresh the game to see your new island</li>
        </ol>
    </div>

    <h2>🎯 Collision Editing - Project Integration</h2>
    
    <div class="controls">
        <h3>⚙️ "To Project" Button for Collision Edits</h3>
        <ul>
            <li><strong>Direct Integration:</strong> Updates collision boundaries directly in your project</li>
            <li><strong>Island Properties:</strong> Confirms or updates position and radius settings</li>
            <li><strong>Complete Package:</strong> Generates ready-to-use code and integration instructions</li>
            <li><strong>Immediate Results:</strong> Code is copied to clipboard for instant pasting</li>
            <li><strong>Comprehensive Guide:</strong> Downloads complete integration instructions</li>
        </ul>
    </div>

    <div class="controls">
        <h3>🔧 Collision Project Integration Workflow</h3>
        <ol>
            <li><strong>Edit Collision Points:</strong> Select an island and modify its collision boundaries</li>
            <li><strong>Click "⚙️ To Project":</strong> Start project integration process</li>
            <li><strong>Confirm Settings:</strong> Verify or update island position and radius</li>
            <li><strong>Auto-Generation:</strong> System creates collision code and integration package</li>
            <li><strong>Download Instructions:</strong> Complete step-by-step guide downloads automatically</li>
            <li><strong>Paste Code:</strong> Collision code is copied to clipboard for immediate use</li>
            <li><strong>Test Integration:</strong> Refresh game to test updated collision boundaries</li>
        </ol>
    </div>

    <div class="controls">
        <h3>📋 Collision Integration Package</h3>
        <ul>
            <li><strong>Collision Points Code:</strong> Updated generateCustomOutline() method</li>
            <li><strong>Island Configuration:</strong> Position and radius settings (if modified)</li>
            <li><strong>Integration Instructions:</strong> Step-by-step guide for map.js updates</li>
            <li><strong>Testing Guidelines:</strong> How to verify collision boundaries work correctly</li>
            <li><strong>Clipboard Ready:</strong> Code is immediately available for pasting</li>
        </ul>
    </div>

    <div class="controls">
        <h3>🎮 When to Use "To Project" vs "💾 Save to JS"</h3>
        <ul>
            <li><strong>"⚙️ To Project":</strong> For complete project integration with settings confirmation</li>
            <li><strong>"💾 Save to JS":</strong> For simple collision code export without integration</li>
            <li><strong>"To Project" Benefits:</strong> Handles island properties, comprehensive instructions</li>
            <li><strong>"Save to JS" Benefits:</strong> Quick code export, manual integration control</li>
        </ul>
    </div>

    <h2>💾 Saving Collision Points to Code</h2>tle>Map Editor Instructions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #2c3e50;
            color: #ecf0f1;
        }
        h1 { color: #3498db; }
        h2 { color: #e74c3c; }
        .controls {
            background: #34495e;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .key {
            background: #3498db;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
        }
        .warning {
            background: #e67e22;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>🗺️ Map Editor - User Guide</h1>
    
    <div class="warning">
        <strong>⚠️ Important:</strong> The map editor is now integrated into your game. 
        Press <span class="key">Ctrl+E</span> while playing to activate it.
    </div>

    <h2>🎮 How to Use the Map Editor</h2>
    
    <div class="controls">
        <h3>Activation</h3>
        <ul>
            <li><span class="key">Ctrl+E</span> - Toggle map editor on/off</li>
            <li>Blue status indicator appears when active</li>
            <li>Editor panel appears on the right side</li>
        </ul>
    </div>

    <div class="controls">
        <h3>🏝️ Island Management</h3>
        <ul>
            <li><strong>📍 Add Island:</strong> Create new island at specified coordinates</li>
            <li><strong>🖼️ Import:</strong> Import island from image file (PNG, JPG, etc.)</li>
            <li><strong>� Place on Map:</strong> Manually position imported island by clicking on map</li>
            <li><strong>💾 Save to Assets:</strong> Download island to Islands folder with integration code</li>
            <li><strong>�🗑️ Delete:</strong> Remove selected island from map</li>
            <li><strong>Drag & Drop:</strong> Drop image files directly on editor panel</li>
        </ul>
    </div>

    <div class="controls">
        <h3>🎯 Manual Island Placement Workflow</h3>
        <ol>
            <li><strong>Import Image:</strong> Click "🖼️ Import" and select island image from browser</li>
            <li><strong>Enter Name:</strong> System prompts for island name</li>
            <li><strong>Choose Action:</strong> Either place on map or save to assets</li>
            <li><strong>Place on Map:</strong> Click "📍 Place on Map" then click where you want it</li>
            <li><strong>Set Radius:</strong> System prompts for collision radius</li>
            <li><strong>Edit Points:</strong> Fine-tune collision boundaries</li>
            <li><strong>Save to Assets:</strong> Download properly formatted file for Islands folder</li>
        </ol>
    </div>

    <div class="controls">
        <h3>⚙️ Complete Project Integration Workflow</h3>
        <ol>
            <li><strong>Import Image:</strong> Click "🖼️ Import" and select island image</li>
            <li><strong>Enter Island Name:</strong> Provide a name for your island</li>
            <li><strong>Click "⚙️ Import Island to Project":</strong> Start complete integration</li>
            <li><strong>Set Coordinates:</strong> Enter X and Y position for the island</li>
            <li><strong>Set Collision Radius:</strong> Define the collision detection radius</li>
            <li><strong>Auto-Generation:</strong> System creates PNG file and complete integration code</li>
            <li><strong>Follow Instructions:</strong> Download includes step-by-step integration guide</li>
            <li><strong>Apply to Project:</strong> Copy code to main.js and map.js as instructed</li>
        </ol>
    </div>

    <div class="controls">
        <h3>Island Properties</h3>
        <ul>
            <li><strong>Name:</strong> Set island name (used in code generation)</li>
            <li><strong>Position:</strong> X/Y coordinates on the map</li>
            <li><strong>Radius:</strong> Base radius for collision detection</li>
            <li><strong>Auto-prompt:</strong> System asks for name when importing images</li>
        </ul>
    </div>

    <div class="controls">
        <h3>Editing Island Boundaries</h3>
        <ol>
            <li>Select an island from the dropdown in the editor panel</li>
            <li>Island outline points will appear as blue circles</li>
            <li>Click on any point to select it (turns red)</li>
            <li>Drag selected points to adjust the collision boundary</li>
            <li>Right-click near the outline to add a new point</li>
            <li>Press <span class="key">Delete</span> to remove the selected point</li>
            <li>Press <span class="key">Shift+A</span> to add a point at mouse position</li>
        </ol>
    </div>

    <div class="controls">
        <h3>Mouse Controls</h3>
        <ul>
            <li><strong>Left Click:</strong> Select collision point</li>
            <li><strong>Drag:</strong> Move selected point</li>
            <li><strong>Right Click:</strong> Add point at mouse position</li>
            <li><strong>Hover:</strong> Point turns orange when hovering</li>
        </ul>
    </div>

    <div class="controls">
        <h3>Keyboard Shortcuts</h3>
        <ul>
            <li><span class="key">Ctrl+E</span> - Toggle editor</li>
            <li><span class="key">Shift+A</span> - Add point at mouse</li>
            <li><span class="key">Delete</span> - Delete selected point</li>
            <li><span class="key">Ctrl+S</span> - Save current island</li>
        </ul>
    </div>

    <div class="controls">
        <h3>Editor Panel Features</h3>
        <ul>
            <li><strong>Island Selector:</strong> Choose which island to edit</li>
            <li><strong>Points List:</strong> Shows all collision points with coordinates</li>
            <li><strong>Add Point:</strong> Adds point at current mouse position</li>
            <li><strong>Reset:</strong> Restores original island outline</li>
            <li><strong>Optimize:</strong> Removes points that are too close together</li>
            <li><strong>Validate:</strong> Checks if outline is valid (min 3 points, no duplicates)</li>
            <li><strong>Copy Code:</strong> Copies generated JavaScript code for current island</li>
            <li><strong>💾 Save to JS:</strong> Downloads collision points as file and copies to clipboard</li>
            <li><strong>⚙️ To Project:</strong> Complete project integration for collision edits</li>
            <li><strong>Export All:</strong> Exports all islands as JavaScript code</li>
        </ul>
    </div>

    <h2>🗺️ Working with Multiple Islands</h2>
    
    <div class="controls">
        <h3>Future-Ready Design</h3>
        <ul>
            <li>Editor supports unlimited islands and continents</li>
            <li>Each island can be edited independently</li>
            <li>Export all islands at once for easy code integration</li>
            <li>Generated code is organized and ready for copy-paste</li>
        </ul>
    </div>

    <h2>� Saving Collision Points to Code</h2>
    
    <div class="controls">
        <h3>Auto-Save Feature</h3>
        <ul>
            <li><strong>💾 Save to JS Button:</strong> Automatically generates updated code for map.js</li>
            <li><strong>Downloads File:</strong> Creates instruction file with complete code replacement</li>
            <li><strong>Clipboard Copy:</strong> Collision points copied to clipboard for quick pasting</li>
            <li><strong>Easy Integration:</strong> Generated code is ready to replace in map.js file</li>
        </ul>
    </div>

    <div class="controls">
        <h3>How to Apply Changes</h3>
        <ol>
            <li>Edit your island collision points in the editor</li>
            <li>Click <strong>💾 Save to JS</strong> button</li>
            <li>A .txt file downloads with complete instructions</li>
            <li>Open <code>js/map.js</code> in your editor</li>
            <li>Find the <code>generateCustomOutline()</code> method</li>
            <li>Replace it with the generated code</li>
            <li>Save the file and refresh your game</li>
        </ol>
    </div>

    <h2>�📋 Generated Code Example</h2>
    
    <pre style="background: #2c3e50; padding: 10px; border-radius: 5px; overflow-x: auto;">
// Saint Kitts Island - 20 collision points
const saintKittsIslandPoints = [
    { x: -555.2, y: -382.3 },
    { x: -279.0, y: -582.4 },
    { x: -108.1, y: -447.1 },
    { x: 65.7, y: -273.0 },
    { x: 161.8, y: -79.8 },
    { x: 262.6, y: -4.5 },
    { x: 286.5, y: 207.2 },
    { x: 366.8, y: 294.1 },
    { x: 405.4, y: 374.1 },
    { x: 493.6, y: 399.9 },
    { x: 528.7, y: 464.8 },
    { x: 539.9, y: 526.1 },
    { x: 394.4, y: 552.3 },
    { x: 305.5, y: 597.2 },
    { x: 284.7, y: 483.8 },
    { x: 351.1, y: 423.9 },
    { x: 282.8, y: 293.8 },
    { x: 70.8, y: 126.7 },
    { x: -175.0, y: 72.1 },
    { x: -387.6, y: -116.9 }
];

// Usage in generateCustomOutline():
return {
    points: saintKittsIslandPoints,
    bounds: this.calculateOutlineBounds(saintKittsIslandPoints)
};
    </pre>

    <h2>💡 Tips for Best Results</h2>
    
    <div class="controls">
        <ul>
            <li><strong>Point Placement:</strong> Place points around the island's edge, not too close together</li>
            <li><strong>Validation:</strong> Use the Validate button to check for errors</li>
            <li><strong>Optimization:</strong> Use Optimize to clean up redundant points</li>
            <li><strong>Testing:</strong> Test collision by sailing your ship around the edited boundary</li>
            <li><strong>Backup:</strong> Copy code frequently to avoid losing work</li>
            <li><strong>Zoom:</strong> Use mouse wheel to zoom in for precise editing</li>
        </ul>
    </div>

    <div class="warning">
        <strong>🚀 Ready to Edit:</strong> Your map editor is fully integrated and ready to use! 
        Launch your game and press <span class="key">Ctrl+E</span> to start creating and editing islands.
    </div>
</body>
</html>
